---
id: pun-3247
status: blocked
deps: []
created: 2026-02-26T06:01:21Z
type: task
priority: 2
plan-questions:
  - id: q1
    question: "How should the app handle items without a `modified` timestamp (older data)?"
    context: "Items from the backend include a `modified` field (ISO8601), but older items may lack this field. The plan proposes adding an optional `modified: String?` field to the Item model."
    options:
      - label: "Treat as missing (Recommended)"
        value: optional_field
        description: "Add `modified` as optional, filter gracefully when nilâ€”these items won't appear in session-completed views"
      - label: "Use creation date as fallback"
        value: creation_fallback
        description: "Use `created` timestamp as fallback if `modified` is missing, so all items are filterable"
  - id: q2
    question: "What visual treatment should the completion indicator use?"
    context: "When an agent run completes, the slider toggles to a static completion indicator. The plan recommends a filled green circle with a checkmark icon."
    options:
      - label: "Filled green circle with checkmark (Recommended)"
        value: green_checkmark
        description: "Matches completed item aesthetic, signals 'review completed work'"
      - label: "Blue circle with info icon"
        value: blue_info
        description: "Signals a review state (neutral, not celebratory)"
  - id: q3
    question: "Should the session timestamp persist across app restarts?"
    context: "After an agent run completes, the completion circle allows reviewing tickets completed during that session. The question is whether this session state survives app termination."
    options:
      - label: "Reset on app foreground (Recommended)"
        value: reset_foreground
        description: "Session expires when app is backgrounded/terminated; completed tickets remain server-side"
      - label: "Persist via UserDefaults"
        value: persist_userdefaults
        description: "Session survives restarts; user can review even after closing and reopening the app"
  - id: q4
    question: "If a user starts the agent twice without reviewing the first session, which tickets should be shown?"
    context: "The agent can be started, stopped, and started again. This determines the scope of the 'completed tickets' view."
    options:
      - label: "Most recent session only (Recommended)"
        value: most_recent
        description: "Show only tickets completed after the second agent start; simpler mental model"
      - label: "All tickets from both sessions"
        value: all_sessions
        description: "Accumulate completed tickets from all unseen sessions until user reviews"
---
# I'd like to be able to see tickets that were completed during an agent run if it was started in punchlist. Maybe when an agent is started, we save a timestamp locally, and start showing completed tickets that were completed after that timestamp. When the agent stops, the slider is replaced with the completion circle? Clicking the completion circle restores the (inactive) agent slider, and hides all closed tickets. This was we get a "what happened during that loop" review process
